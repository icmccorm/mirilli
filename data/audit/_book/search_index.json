[["introduction.html", "Audit 1 Introduction", " Audit Ian McCormack 2023-01-12 1 Introduction "],["abi-distribution.html", "2 ABI Distribution", " 2 ABI Distribution The maximum number of ABIs defined in a single file. by_count &lt;- late_abis %&gt;% group_by(crate_name) %&gt;% summarize(n=n()) print(max(by_count$n)) ## [1] 4 The number of ABI occurrences in files. "],["improper-type-errors.html", "3 Improper Type Errors", " 3 Improper Type Errors We observed 1.6951^{4} type errors in foreign bindings. There were 483 unique errors which occurred for 236 unique crates. There were 47 crates that disabled the improper_ctypes lint. There were 12 crates that disabled the improper_types_definitions lint. There were 10 crates that disabled both lints. When we include crates that have lints disabled per-item, we have 100 crates that disabled improper_ctypes lint, we have 21 crates that disabled the improper_types_definitions lint, and 10 crates that disabled both lints. ## # A tibble: 4 × 7 ## Category `# Crates` `# Unique Errors` Total Mean St.Dev Max ## &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 Foreign Functions 150 / 96 548 / 446 16318 / 144… 108.… 464.2… 5375… ## 2 Rust Functions 78 / 15 149 / 32 437 / 195 5.6 … 15.8 … 136 … ## 3 Static Items 16 / 6 41 / 31 196 / 171 12.2… 24.6 … 99 /… ## 4 All 236 / 110 738 / 509 16951 / 148… 71.8… 379.4… 5474… ## [1] 14852 ## # A tibble: 16 × 7 ## Type Error Unique `Foreign Funct…` `Foreign Items` `Rust Functions` Total ## &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Adt EnumN… 2 4 0 0 4 ## 2 Adt EnumN… 51 29 7 21 57 ## 3 Adt Struc… 361 8329 161 7 8497 ## 4 Adt Struc… 1 2 0 0 2 ## 5 Adt Union… 105 912 2 10 924 ## 6 Adt OnlyP… 1 1 0 0 1 ## 7 Array -- 54 21 0 0 21 ## 8 Char -- 7 19 0 0 19 ## 9 Dynamic -- 32 3 0 4 7 ## 10 FnPtr -- 13 295 1 0 296 ## 11 Int 128Bit 2 1 0 66 67 ## 12 Slice -- 30 1 0 1 2 ## 13 Str -- 8 0 0 4 4 ## 14 Tuple -- 15 7 0 24 31 ## 15 Uint 128Bit 56 4862 0 58 4920 ## 16 All -- 738 14486 171 195 14852 # large &lt;- function(x){ # paste0(&#39;\\textbf{&#39;, x, &#39;}&#39;) # } # addtorow &lt;- list() # addtorow$pos &lt;- list(0, 0) # addtorow$command &lt;- c(&quot;&amp; &amp; &amp; \\\\multicolumn{4}{c}{\\\\# Occurrences} \\\\\\\\\\n&quot;, # &quot;Category &amp; \\\\# Crates &amp; \\\\# Unique &amp; Total &amp; Mean &amp; St.Dev. &amp; Max \\\\\\\\\\n&quot;) # xt_counts = xtable( # count_summary, # type = &quot;latex&quot;, # digits=c(0,0,0,0,0,1,1,0), # ) # align(xt_counts) &lt;- &quot;llcc|cccc&quot; # print(xt_counts, # include.rownames = FALSE, # add.to.row = addtorow, # file = &quot;../latex/err_counts.tex&quot;, # include.colnames = FALSE, # sanitize.colnames.function = large, # floating=FALSE, # latex.environments=NULL # ) # addtorow &lt;- list() # addtorow$pos &lt;- list(0, 0) # addtorow$command &lt;- c(&quot;&amp; &amp; &amp; \\\\multicolumn{4}{c}{\\\\# Hidden Occurrences} \\\\\\\\\\n&quot;, # &quot;Error Category &amp; Error &amp; \\\\# Unique &amp; Foreign Functions &amp; Foreign Items &amp; Rust Functions &amp; Total \\\\\\\\\\n&quot;) # xt_type_counts &lt;- xtable( # filtered, # type = &quot;latex&quot;, # digits=c(0,0,0,0,0,0,0,0), # floating=FALSE, # latex.environments=NULL # ) # align(xt_type_counts) &lt;- &quot;lllc|cccc&quot; # print(xt_type_counts, # include.rownames = FALSE, # add.to.row = addtorow, # file = &quot;../latex/err_type_counts.tex&quot;, # include.colnames = FALSE, # sanitize.colnames.function = large, # floating=FALSE, # latex.environments=NULL # ) "],["quantitative-results.html", "4 Quantitative Results 4.1 ABI Distribution", " 4 Quantitative Results We began with a snapshot of the crates.io database taken on 12/20/2022, which contained 99,784 crates. After filtering out crates without any valid published versions, 96,048 crates remained. We ran our linting tool on this population. Prior to linting, we found that the latest version of 57 crates contained an empty archive when downloaded from crates.io. For crates with non-empty archives, 88,652 passed the early linting stage, while 7,396 failed it. Of those that passed the early linting stage, 86,415 passed the late linting stage, while 2,237 failed it. We use this subset of crates that passed all stages as the basis for our study, which comprises 87% of all crates. Though 5,809 crates that passed the late linting stage failed to compile, we still include these in our sample to avoid excluding crates that have valid Rust code but are missing dependencies that cargo cannot provide. 4.1 ABI Distribution "],["references.html", "References", " References "]]
